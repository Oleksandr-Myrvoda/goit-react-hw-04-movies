(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{14:function(e,t,n){e.exports={button:"PagesStyles_button__EsJeB",movieCard:"PagesStyles_movieCard__b1eQN",cardText:"PagesStyles_cardText__a32YZ",genresList:"PagesStyles_genresList__3cTQm",genreItem:"PagesStyles_genreItem__1Fn8W",reviewList:"PagesStyles_reviewList__10OWO",navItem:"PagesStyles_navItem__3oLEW"}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h}));var a=n(18),c=n.n(a),r="https://api.themoviedb.org/3",s="1db5479ca98fac1ae129bcbe15cc6182",i=function(){return c.a.get("".concat(r,"/trending/movie/week?api_key=").concat(s)).then((function(e){return e.data.results})).catch((function(e){return e}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"batman";return c.a.get("".concat(r,"/search/movie?query=").concat(e,"&api_key=").concat(s)).then((function(e){return e.data.results})).catch((function(e){return e}))},u=function(e){return c.a.get("".concat(r,"/movie/").concat(e,"?api_key=").concat(s)).then((function(e){return e.data})).catch((function(e){return e}))},l=function(e){return c.a.get("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(s)).then((function(e){return e.data.cast})).catch((function(e){return e}))},h=function(e){return c.a.get("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(s)).then((function(e){return e.data.results})).catch((function(e){return e}))}},19:function(e,t,n){e.exports={header:"Header_header__1GIkf",list:"Header_list__3jPOo",item:"Header_item__wce2h"}},22:function(e,t,n){e.exports={button:"Searchbar_button__3EJ3t",SearchForm:"Searchbar_SearchForm__1L-m3",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2BAXN",SearchFormInput:"Searchbar_SearchFormInput__2qSIm"}},37:function(e,t,n){e.exports={ImageGallery:"MoviesList_ImageGallery__2KGgb"}},39:function(e,t,n){e.exports={app:"App_app__38_4Y"}},45:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(35),s=n.n(r),i=(n(45),n(9)),o=n(10),u=n(12),l=n(11),h=n(2),j=n(8),m="/",b="/movies",d="/movies/:movieId",p=n(19),v=n.n(p),f=n(0),O=function(){return Object(f.jsx)("header",{className:v.a.header,children:Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{className:v.a.list,children:[Object(f.jsx)("li",{className:v.a.item,children:Object(f.jsx)(j.b,{to:m,exact:!0,activeClassName:"navLinkActive",children:"Home"})}),Object(f.jsx)("li",{className:v.a.item,children:Object(f.jsx)(j.b,{to:b,exact:!0,activeClassName:"navLinkActive",children:"Movies"})})]})})})},x=n(17),_=n.n(x),g=n(21),y=n(15),S=n(13),k=n.n(S),w=n(37),N=n.n(w),I=function(e){var t=e.movies,n=e.location;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.title,c=e.poster_path;return Object(f.jsx)("li",{children:Object(f.jsxs)(j.b,{to:{pathname:"/movies/".concat(t),state:{from:n}},children:[Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c),width:"100",alt:a}),a]})},t)}))})})};I.propType={movies:k.a.arrayOf(k.a.shape({id:k.a.number.isRequired,title:k.a.string}))};var C=Object(h.f)(I),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.c();case 3:t=e.sent,this.setState({movies:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Trending this week"}),Object(f.jsx)(C,{movies:e})]})}}]),n}(a.Component),L=n(22),Q=n.n(L),P=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchQuery:""},e.handleCange=function(t){e.setState({searchQuery:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchQuery;e.props.onSubmit(n),e.setState({searchQuery:""})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:Q.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(f.jsx)("button",{className:Q.a.button,type:"submit",children:Object(f.jsx)("span",{children:"Search"})}),Object(f.jsx)("input",{className:Q.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:this.searchQuery,onChange:this.handleCange})]})})}}]),n}(a.Component),A=n(38),G=n.n(A),B=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],searchQuery:"",error:null},e.handleSearch=function(t){var n=e.props.history;e.setState({searchQuery:t}),y.e(t).then((function(t){e.setState({movies:t})})).catch((function(e){return console.log(e)})),n.push({pathname:n.location.pathname,search:"searchQuery=".concat(t)})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=G.a.parse(t.search).searchQuery;n&&y.d(n).then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){var e=this.state.movies;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"MoviesPage"}),Object(f.jsx)(P,{onSubmit:this.handleSearch}),e.length>0&&Object(f.jsx)(C,{movies:e})]})}}]),n}(a.Component),M=n(40),T=n(14),D=n.n(T),E=Object(a.lazy)((function(){return n.e(0).then(n.bind(null,74))})),H=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,75))})),J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={title:null,release_date:null,vote_average:null,overview:null,genres:[],poster_path:null},e.handleGoBack=function(){var t,n=e.props,a=n.history,c=n.location;a.push((null===c||void 0===c||null===(t=c.state)||void 0===t?void 0:t.from)||m)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,y.d(t);case 3:n=e.sent,this.setState(Object(M.a)({},n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this.state,a=n.genres,c=n.overview,r=n.poster_path,s=n.title,i=n.vote_average,o=this.props,u=o.match,l=o.location;return Object(f.jsxs)("section",{className:D.a.overlay,children:[Object(f.jsx)("button",{className:D.a.button,type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(f.jsx)("h1",{children:s}),Object(f.jsxs)("div",{className:D.a.movieCard,children:[Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w342/".concat(r),alt:s}),Object(f.jsxs)("div",{className:D.a.cardText,children:[Object(f.jsxs)("h2",{children:["Rating: ",10*i,"%"]}),Object(f.jsx)("p",{children:c}),Object(f.jsx)("ul",{children:a.map((function(e){var t=e.id,n=e.name;return Object(f.jsxs)("li",{className:D.a.genresList,children:[n,","]},t)}))})]})]}),Object(f.jsxs)("ul",{className:D.a.reviewList,children:[Object(f.jsx)("li",{className:D.a.navItem,children:Object(f.jsx)(j.b,{to:{pathname:"".concat(u.url,"/cast"),state:{from:null===(e=l.state)||void 0===e?void 0:e.from,id:u.params.movieId}},children:"Cast"})}),Object(f.jsx)("li",{className:D.a.navItem,children:Object(f.jsx)(j.b,{to:{pathname:"".concat(u.url,"/reviews"),state:{from:null===(t=l.state)||void 0===t?void 0:t.from,id:u.params.movieId}},children:"Reviews"})})]}),Object(f.jsx)(h.c,{children:Object(f.jsx)(h.a,{exact:!0,path:"".concat(u.url,"/cast"),component:E})}),Object(f.jsx)(h.a,{exact:!0,path:"".concat(u.url,"/reviews"),component:H})]})}}]),n}(a.Component),q=function(){return Object(f.jsx)("h1",{children:"NotFound"})},R=n(39),W=n.n(R),z=(n(72),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsx)("div",{className:W.a.app,children:Object(f.jsx)(a.Suspense,{fallback:Object(f.jsx)("h1",{children:"Loadind..."}),children:Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{path:m,exact:!0,component:F}),Object(f.jsx)(h.a,{path:d,component:J}),Object(f.jsx)(h.a,{path:b,component:B}),Object(f.jsx)(h.a,{component:q})]})})})]})}}]),n}(a.Component));s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(j.a,{children:Object(f.jsx)(z,{})})}),document.getElementById("root"))}},[[73,3,4]]]);
//# sourceMappingURL=main.6c6df2c3.chunk.js.map